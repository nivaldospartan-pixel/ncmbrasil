<!DOCTYPE html>
<html>
<head>
    <title>Calculadora IPI</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .form-group { margin-bottom: 15px; }
        .result { background: #f5f5f5; padding: 20px; border-radius: 5px; margin-top: 20px; }
        .error { color: red; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Calculadora de Preço com IPI</h1>
    
    {% if erro %}
        <div class="error">{{ erro }}</div>
    {% endif %}
    
    <form method="POST">
        <div class="form-group">
            <label for="sku">SKU:</label>
            <input type="text" id="sku" name="sku" required>
        </div>
        
        <div class="form-group">
            <label for="valor_final">Valor Final (com IPI):</label>
            <input type="text" id="valor_final" name="valor_final" required>
        </div>
        
        <div class="form-group">
            <label for="frete">Frete (opcional):</label>
            <input type="text" id="frete" name="frete" value="0">
        </div>
        
        <button type="submit">Calcular</button>
    </form>
    
    {% if resultado %}
    <div class="result">
        <h2>Resultado</h2>
        <p><strong>SKU:</strong> {{ resultado.sku }}</p>
        <p><strong>Descrição:</strong> {{ resultado.descricao }}</p>
        <p><strong>Valor Base (sem IPI):</strong> R$ {{ "%.2f"|format(resultado.valor_base) }}</p>
        <p><strong>Frete:</strong> R$ {{ "%.2f"|format(resultado.frete) }}</p>
        <p><strong>IPI:</strong> R$ {{ "%.2f"|format(resultado.ipi) }}</p>
        <p><strong>Valor Final:</strong> R$ {{ "%.2f"|format(resultado.valor_final) }}</p>
    </div>
    {% endif %}
</body>
</html>